task_execution_role_arn = "arn:aws:iam::321225686735:role/ecsTaskExecutionRole"
vpc_id = "vpc-0cedca1b00147c7ad"
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ # Login sa ECR
ecr get-rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ aws ecr get-login-password --region ap-southeast-1 | docker login --username AWS --password-stdin 321225686735.dkr.ecr.ap-southeast-1.amazonaws.com
Build ng image
docker build -t oaktree-cloud-app .

# Tag ng image
docker tag oaktree-cloud-app:latest 321225686735.dkr.ecr.ap-southeast-1.amazonaws.com/oaktree-cloud-app:latest

# Push ng image
docker push 321225686735.dkr.ecr.ap-southeast-1.amazonaws.com/oaktree-cloud-app:latest

WARNING! Your credentials are stored unencrypted in '/home/rae/.docker/config.json'.
Configure a credential helper to remove this warning. See
https://docs.docker.com/go/credential-store/

Login Succeeded
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ # Build ng image
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ docker build -t oaktree-cloud-app .
[+] Building 0.2s (1/1) FINISHED                                                                      docker:default
 => [internal] load build definition from Dockerfile                                                            0.1s
 => => transferring dockerfile: 2B                                                                              0.0s
ERROR: failed to solve: failed to read dockerfile: open Dockerfile: no such file or directory
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ # Tag ng image
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ docker tag oaktree-cloud-app:latest 321225686735.dkr.ecr.ap-southeast-1.amazonaws.com/oaktree-cloud-app:latest
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ # Push ng image
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$ docker push 321225686735.dkr.ecr.ap-southeast-1.amazonaws.com/oaktree-cloud-app:latest
The push refers to repository [321225686735.dkr.ecr.ap-southeast-1.amazonaws.com/oaktree-cloud-app]
b85810632679: Layer already exists
f422278337cf: Layer already exists
15a83efcaa8d: Layer already exists
a702dae551d0: Layer already exists
dc55b2bec7b0: Layer already exists
46dec0992c2d: Layer already exists
659ae354f8ac: Layer already exists
07f183d69b10: Layer already exists
adab8b21d9fe: Layer already exists
6c7c1b88da61: Layer already exists
b2bcbd8ebb2b: Layer already exists
7f0053786e6e: Layer already exists
f7f2b929d8a5: Layer already exists
latest: digest: sha256:ceaa50456ab4f5f6a18c27ff97e1bee289f55a5cb5ef0ee30ee641930673dc5e size: 3055
rae@Rae:/mnt/c/Users/KHARDZ/Desktop/Week 4/oaktree/terraform$